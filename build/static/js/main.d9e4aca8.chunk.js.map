{"version":3,"sources":["components/Print.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/number.js","App.js","index.js"],"names":["Print","props","parts","handleClick","name","number","onClick","Persons","filteredPerson","map","key","id","Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addNumber","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newNameObject","post","delete","updatedName","put","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","filter","toUpperCase","includes","useEffect","personService","initialPersons","event","console","log","target","preventDefault","duplicate","person","length","window","confirm","find","n","changedPerson","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"sMAYeA,EAVF,SAACC,GAAS,IACdC,EAAuBD,EAAvBC,MAAOC,EAAgBF,EAAhBE,YACf,OACC,2BACED,EAAME,KADR,IACeF,EAAMG,OACpB,4BAAQC,QAAUH,GAAlB,YCWcI,EAdF,SAACN,GAAU,IACjBO,EAA+BP,EAA/BO,eAAgBL,EAAeF,EAAfE,YAOxB,OACE,oCANeK,EAAeC,KAAI,SAAAP,GAAK,OACvC,kBAAC,EAAD,CACAQ,IAAOR,EAAME,KACbF,MAAOA,EACPC,YAAaA,EAAYD,EAAMS,GAAIT,EAAME,aCE7BQ,EAXA,SAACX,GAAU,IAChBY,EAAkCZ,EAAlCY,UAAWC,EAAuBb,EAAvBa,mBACnB,OACE,8BACI,iDACmB,2BAAOC,MAASF,EAAWG,SAAYF,OCYnDG,EAjBI,SAAChB,GAAU,IACrBiB,EAAuEjB,EAAvEiB,UAAWC,EAA4DlB,EAA5DkB,QAASC,EAAmDnB,EAAnDmB,UAAWC,EAAwCpB,EAAxCoB,iBAAkBC,EAAsBrB,EAAtBqB,mBACzD,OACE,0BAAMC,SAAUL,GACf,sCACK,2BAAOH,MAASI,EAASH,SAAWK,KAEzC,wCACO,2BAAON,MAASK,EAAWJ,SAAYM,KAE9C,6BACD,4BAAQE,KAAK,UAAb,U,gBCZGC,EAAU,eAqBD,EAnBA,WAEd,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAEA,EAASC,SAiBzB,EAdA,SAAAC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAEA,EAASC,SAYzB,EATI,SAACnB,GAClBe,IAAMO,OAAN,UAAgBR,EAAhB,YAA2Bd,KAQd,EALD,SAACA,EAAIuB,GAElB,OADgBR,IAAMS,IAAN,UAAaV,EAAb,YAAwBd,GAAMuB,GAC/BN,MAAK,SAAAC,GAAQ,OAAEA,EAASC,SCblCM,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,QAUtB,OAAgB,OAAZA,EACK,KAGP,yBAAKC,MAbY,CACjBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KAOXR,IAgHQS,EA3GH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACRC,EADQ,KACCC,EADD,OAEgBF,mBAAS,IAFzB,mBAER5B,EAFQ,KAEC+B,EAFD,OAGoBH,mBAAS,IAH7B,mBAGR3B,EAHQ,KAGG+B,EAHH,OAIoBJ,mBAAS,IAJ7B,mBAIRlC,EAJQ,KAIGuC,EAJH,OAKyBL,mBAAS,MALlC,mBAKRM,EALQ,KAKMC,EALN,KAQV9C,EACJwC,EAAQO,QAAO,SAAAP,GAAO,OAAGA,EAAQ5C,KAAKoD,cAAcC,SAAS5C,EAAU2C,kBAsEzEE,qBAAU,WACRC,IAEC/B,MAAK,SAAAgC,GACJX,EAAWW,QAEX,IASJ,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcvB,QAAUgB,IACxB,kBAAC,EAAD,CAAQxC,UAAaA,EAAWC,mBA7ET,SAAC+C,GAC1BC,QAAQC,IAAI,YAAaF,EAAMG,OAAOjD,OACtCqC,EAAaS,EAAMG,OAAOjD,UA4ExB,yCACA,kBAAC,EAAD,CAAYG,UA1EE,SAAC2C,GACjBA,EAAMI,iBACN,IAAMC,EAAYlB,EAAQO,QAAO,SAAAY,GAAM,OAAIA,EAAO/D,OAASe,KAE3D,GADA2C,QAAQC,IAAI,eAAgBG,GACH,IAArBA,EAAUE,OAAa,CACzB,GAAIC,OAAOC,QAAP,UAAkBnD,EAAlB,2EAAmG,CACrG,IAAMR,EAAKuD,EAAU,GAAGvD,GAClBqD,EAAShB,EAAQuB,MAAK,SAAAC,GAAC,OAAEA,EAAE7D,KAAOA,KAClC8D,EAAa,eAAOT,EAAP,CAAe3D,OAAQe,IAE1CuC,EACQhD,EAAI8D,GACX7C,MAAK,SAAA8C,GACJzB,EAAWD,EAAQvC,KAAI,SAAA0D,GAAM,OAAEA,EAAOxD,KAAMA,EAAKwD,EAASO,MAC1DxB,EAAW,IACXC,EAAa,IACbG,EAAgB,GAAD,OAAInC,EAAJ,sCACfwD,YAAW,WAAKrB,EAAgB,QAAO,QAExCsB,OAAM,SAAAC,GACLvB,EAAgB,GAAD,OAAInC,EAAJ,+BACfwD,YAAW,WAAKrB,EAAgB,QAAO,KACvCL,EAAWD,EAAQO,QAAO,SAAAiB,GAAC,OAAEA,EAAE7D,KAAMA,MACrCuC,EAAW,IACXC,EAAa,OAGjBD,EAAW,IACXC,EAAa,QACV,CAKLQ,EAJmB,CACjBvD,KAAMe,EACNd,OAAQe,IAITQ,MAAK,SAAA8C,GACJzB,EAAWD,EAAQ8B,OAAOJ,IAC1BxB,EAAW,IACXC,EAAa,IACbG,EAAgB,GAAD,OAAInC,EAAJ,qBACfwD,YAAW,WAAKrB,EAAgB,QAAO,QAExCsB,OAAM,SAAAC,GAELf,QAAQC,IAAIc,EAAMhD,UAClB,IAAMQ,EAAUwC,EAAMhD,SAASC,KAC/BwB,EAAgB,GAAD,OAAIjB,IACnBsC,YAAW,WAAKrB,EAAgB,QAAO,UA0BLnC,QAASA,EAASC,UAAWA,EAAWC,iBAzFrD,SAACwC,GACxBC,QAAQC,IAAIF,EAAMG,OAAOjD,OACzBmC,EAAWW,EAAMG,OAAOjD,QAuFwFO,mBApFvF,SAACuC,GAC1BC,QAAQC,IAAIF,EAAMG,OAAOjD,OACzBoC,EAAaU,EAAMG,OAAOjD,UAmFxB,uCACA,kBAAC,EAAD,CAASP,eAAgBA,EAAgBL,YAdtB,SAACQ,EAAIP,GAAL,OAAc,WAC7BiE,OAAOC,QAAP,iBAAyBlE,EAAzB,QACJuD,EAAyBhD,GACzBsC,EAAWD,EAAQO,QAAO,SAAAY,GAAM,OAAEA,EAAOxD,KAAKA,aCjHpDoE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.d9e4aca8.chunk.js","sourcesContent":["import React from 'react';\n\nconst Print =(props)=>{\n\tconst { parts, handleClick } = props;\n\treturn (\n\t\t<p>\n\t\t\t{parts.name} {parts.number} \n\t\t\t<button onClick= {handleClick}>Delete</button>\n\t\t</p>\t\t\n\t)   \n  }\n\nexport default Print;","import React from 'react';\nimport Print from './Print'\n// im/port personService from '../services/number'\n\nconst Persons =(props) =>{\n\tconst { filteredPerson, handleClick  }=props;\n\t\n\tconst rows=() => filteredPerson.map(parts =>\n\t  <Print \n\t  key = {parts.name} \n\t  parts={parts} \n\t  handleClick={handleClick(parts.id, parts.name)}/>)\n\treturn(\n\t  <>\n\t\t{rows()}\n\t  </>  )\n  }\n\n  export default Persons;","import React from 'react';\n\nconst Filter = (props) =>{\n  const { newFilter, handleFilterChange } = props;\n  return(\n    <form>\n        <div>\n          filter shown with<input value = {newFilter} onChange = {handleFilterChange}/>\n        </div>\n    </form>\n  )\n}\n\nexport default Filter;\n\n","import React from 'react';\n\nconst PersonForm = (props) =>{\n\tconst { addNumber, newName, newNumber, handleNameChange, handleNumberChange} = props;\n\treturn(\n\t  <form onSubmit={addNumber}>\n\t\t  <div>\n\t\t\tname: <input value = {newName} onChange= {handleNameChange}/>\n\t\t  </div>\n\t\t  <div>\n\t\t\tnumber: <input value = {newNumber} onChange = {handleNumberChange}/>\n\t\t  </div>\n\t\t  <div>\n\t\t\t<button type=\"submit\">add</button>\n\t\t  </div>\n\t  </form>\n\t)\n  }\n\nexport default PersonForm;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () =>{\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response=>response.data)\n}\n\nconst create = newNameObject =>{\n\tconst request = axios.post(baseUrl, newNameObject)\n\treturn request.then(response=>response.data)\n}\n\nconst deleteItem = (id) =>{\n\t axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update =(id, updatedName) =>{\n\tconst request = axios.put(`${baseUrl}/${id}`, updatedName)\n\treturn request.then(response=>response.data)\n}\n\nexport default { getAll, create, deleteItem, update }","import React, { useState, useEffect } from 'react';\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/number'\n\nconst Notification = ({ message }) =>{\n  const errorStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  if (message === null){\n    return null\n  }else{\n  return(\n    <div style= {errorStyle}>\n      {message}\n    </div>\n  )}\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n\n  // includes() method is used to find the filter in the name information.\n  const filteredPerson = \n    persons.filter(persons=> persons.name.toUpperCase().includes(newFilter.toUpperCase()));\n  \n  const handleNameChange = (event) =>{\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) =>{\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterChange = (event) =>{\n    console.log('filter is', event.target.value);\n    setNewFilter(event.target.value);\n  }\n\n  const addNumber = (event) =>{\n    event.preventDefault()\n    const duplicate = persons.filter(person => person.name === newName)\n    console.log('duplicate is', duplicate)\n    if (duplicate.length !== 0){\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        const id = duplicate[0].id\n        const target = persons.find(n=>n.id === id)\n        const changedPerson = {...target, number: newNumber}\n\n        personService\n        .update(id, changedPerson)\n        .then(returnedPerson=>{\n          setPersons(persons.map(person=>person.id !==id ? person : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(`${newName}'s phone number has been updated!`)\n          setTimeout(()=>{setErrorMessage(null)},3000)\n        })\n        .catch(error=>{\n          setErrorMessage(`${newName} has already been removed!`)\n          setTimeout(()=>{setErrorMessage(null)},3000)\n          setPersons(persons.filter(n=>n.id !==id))\n          setNewName('')\n          setNewNumber('')\n      })\n      }\n      setNewName('')\n      setNewNumber('')\n    }else{\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n    personService\n    .create(nameObject)\n    .then(returnedPerson =>{\n      setPersons(persons.concat(returnedPerson))\n      setNewName('')\n      setNewNumber('')\n      setErrorMessage(`${newName} has been added!`)\n      setTimeout(()=>{setErrorMessage(null)},3000)\n    })\n    .catch(error=>{\n      // (`Person validation failed! Path name ${error.response.data.name} is shorter than the minilength 3!`)\n      console.log(error.response)\n      const message = error.response.data\n      setErrorMessage(`${message}`)\n      setTimeout(()=>{setErrorMessage(null)},3000)\n    })\n    \n  }}\n\n  useEffect(()=>{\n    personService\n    .getAll()\n    .then(initialPersons =>{\n      setPersons(initialPersons)\n    })\n    },[])\n\n\n    const removePerson = (id, name) => () => {\n      if (window.confirm(`Delete ${name}?`)){\n      personService.deleteItem(id)\n      setPersons(persons.filter(person=>person.id!==id))}\n    }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message= {errorMessage} />\n      <Filter newFilter = {newFilter} handleFilterChange={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm addNumber={addNumber} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <Persons filteredPerson={filteredPerson} handleClick = {removePerson}/>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}