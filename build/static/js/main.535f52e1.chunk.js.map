{"version":3,"sources":["components/Print.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/number.js","components/Notification.js","App.js","index.js"],"names":["Print","props","parts","handleClick","className","name","number","onClick","Persons","filteredPerson","map","key","id","Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addNumber","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newNameObject","post","delete","updatedName","put","Notification","message","success","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","filter","toUpperCase","includes","useEffect","personService","initialPersons","event","console","log","target","preventDefault","duplicate","person","length","window","confirm","find","n","changedPerson","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.535f52e1.chunk.js","sourcesContent":["import React from 'react'\nimport '../global.css'\nimport propTypes from 'prop-types'\n\nconst Print =(props)=>{\n\tconst { parts, handleClick } = props\n\treturn (\n\t\t<p className='font'>\n\t\t\t<span className = \"name\"><strong>{parts.name}: </strong></span> \n\t\t\t<span className = \"number\"><strong>{parts.number}</strong> </span>\n\t\t\t<button onClick= {handleClick} className='removeButton'>Delete</button>\n\t\t</p>\t\t\n\t)   \n}\n\nPrint.propTypes = {\n\tparts: propTypes.object.isRequired,\n\thandleClick:  propTypes.func.isRequired\n}\n\nexport default Print","import React from 'react'\nimport Print from './Print'\nimport '../global.css'\nimport propTypes from 'prop-types'\n\nconst Persons =(props) =>{\n\tconst { filteredPerson, handleClick  }=props\n\t\n\tconst rows=() => filteredPerson.map(parts =>\n\t\t<Print \n\t\t\tkey = {parts.name} \n\t\t\tparts={parts} \n\t\t\thandleClick={handleClick(parts.id, parts.name)}/>)\n\treturn(\n\t\t<div>\n\t\t\t<h2 className='header'>Numbers</h2>\n\t\t\t{rows()}\n\t\t</div>  )\n}\n\nPersons.propTypes = {\n\tfilteredPerson: propTypes.array.isRequired,\n\thandleClick: propTypes.func.isRequired\n}\nexport default Persons","import React from 'react'\nimport propTypes from 'prop-types'\n\nconst Filter = (props) =>{\n\tconst { newFilter, handleFilterChange } = props\n\treturn(\n\t\t<form className='font container'>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label>Filter shown with</label>\n\t\t\t\t<input value = {newFilter} onChange = {handleFilterChange}/>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nFilter.propTypes = {\n\tnewFilter: propTypes.string.isRequired,\n\thandleFilterChange: propTypes.func.isRequired\n}\nexport default Filter\n\n","import React from 'react'\nimport propTypes from 'prop-types'\n\nconst PersonForm = (props) =>{\n\tconst { addNumber, newName, newNumber, handleNameChange, handleNumberChange} = props\n\treturn(\n\t\t<div>\n\t\t\t<h2 className='header'>Add a new</h2>\n\t\t\t<br/>\n\t\t\t<form onSubmit={addNumber} className='font'>\n\t\t\t\t<div className='form-group'>\n\t\t\t\t\t<label>name: </label>\n\t\t\t\t\t<input value = {newName} onChange= {handleNameChange}/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label>number: </label>\n\t\t\t\t\t<input value = {newNumber} onChange = {handleNumberChange}/>\n\t\t\t\t</div>\n\t\t\t\t<div className='addbuttonDiv'>\n\t\t\t\t\t<button type=\"submit\" className='addButton'>add</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nPersonForm.propTypes = {\n\taddNumber: propTypes.func.isRequired,\n\tnewName: propTypes.string.isRequired,\n\tnewNumber: propTypes.string.isRequired,\n\thandleNameChange: propTypes.func.isRequired,\n\thandleNumberChange: propTypes.func.isRequired\n}\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () =>{\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response=>response.data)\n}\n\nconst create = newNameObject =>{\n\tconst request = axios.post(baseUrl, newNameObject)\n\treturn request.then(response=>response.data)\n}\n\nconst deleteItem = (id) =>{\n\taxios.delete(`${baseUrl}/${id}`)\n}\n\nconst update =(id, updatedName) =>{\n\tconst request = axios.put(`${baseUrl}/${id}`, updatedName)\n\treturn request.then(response=>response.data)\n}\n\nexport default { getAll, create, deleteItem, update }","import React from 'react'\nimport '../global.css'\n\nconst Notification = ({ message, success }) =>{\n\tif (message === null){\n\t\treturn null\n\t}else{\n\t\tconst name = success? 'notice' : 'alert'\n\t\treturn(\n\t\t\t<div className={name}>\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t)}\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/number'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\tconst [ persons, setPersons] = useState([]) \n\tconst [ newName, setNewName ] = useState('')\n\tconst [ newNumber, setNewNumber ] = useState('')\n\tconst [ newFilter, setNewFilter ] = useState('')\n\tconst [ errorMessage, setErrorMessage ] = useState(null)\n\n\tconst filteredPerson = \n    persons.filter(persons=> persons.name.toUpperCase().includes(newFilter.toUpperCase()))\n  \n\tconst handleNameChange = (event) =>{\n\t\tconsole.log(event.target.value)\n\t\tsetNewName(event.target.value)\n\t}\n\n\tconst handleNumberChange = (event) =>{\n\t\tconsole.log(event.target.value)\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\tconst handleFilterChange = (event) =>{\n\t\tconsole.log('filter is', event.target.value)\n\t\tsetNewFilter(event.target.value)\n\t}\n\n\tconst addNumber = (event) =>{\n\t\tevent.preventDefault()\n\t\tconst duplicate = persons.filter(person => person.name === newName)\n\t\tconsole.log('duplicate is', duplicate)\n\t\tif (duplicate.length !== 0){\n\t\t\tif (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n\t\t\t\tconst id = duplicate[0].id\n\t\t\t\tconst target = persons.find(n=>n.id === id)\n\t\t\t\tconst changedPerson = {...target, number: newNumber}\n\n\t\t\t\tpersonService\n\t\t\t\t\t.update(id, changedPerson)\n\t\t\t\t\t.then(returnedPerson=>{\n\t\t\t\t\t\tsetPersons(persons.map(person=>person.id !==id ? person : returnedPerson))\n\t\t\t\t\t\tsetNewName('')\n\t\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\t\tsetErrorMessage(`${newName}'s phone number has been updated!`)\n\t\t\t\t\t\tsetTimeout(()=>{setErrorMessage(null)},3000)\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error=>{\n\t\t\t\t\t\tsetErrorMessage(`${newName} has already been removed!`)\n\t\t\t\t\t\tsetTimeout(()=>{setErrorMessage(null)},3000)\n\t\t\t\t\t\tsetPersons(persons.filter(n=>n.id !==id))\n\t\t\t\t\t\tsetNewName('')\n\t\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t})\n\t\t\t}\n\t\t\tsetNewName('')\n\t\t\tsetNewNumber('')\n\t\t}else{\n\t\t\tconst nameObject = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber\n\t\t\t}\n\t\t\tpersonService\n\t\t\t\t.create(nameObject)\n\t\t\t\t.then(returnedPerson =>{\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\tsetErrorMessage(`${newName} has been added!`)\n\t\t\t\t\tsetTimeout(()=>{setErrorMessage(null)},3000)\n\t\t\t\t})\n\t\t\t\t.catch(error=>{\n\t\t\t\t\t// (`Person validation failed! Path name ${error.response.data.name} is shorter than the minilength 3!`)\n\t\t\t\t\tconsole.log(error.response)\n\t\t\t\t\tconst message = error.response.data.error\n\t\t\t\t\tsetErrorMessage(`${message}`)\n\t\t\t\t\tsetTimeout(()=>{setErrorMessage(null)},3000)\n\t\t\t\t})\n    \n\t\t}}\n\n\tuseEffect(()=>{\n\t\tpersonService\n\t\t\t.getAll()\n\t\t\t.then(initialPersons =>{\n\t\t\t\tsetPersons(initialPersons)\n\t\t\t})\n\t},[])\n\n\n\tconst removePerson = (id, name) => () => {\n\t\tif (window.confirm(`Delete ${name}?`)){\n\t\t\tpersonService.deleteItem(id)\n\t\t\tsetPersons(persons.filter(person=>person.id!==id))}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h2 className='title'>Phonebook</h2>\n\t\t\t<Notification message= {errorMessage}/>\n\t\t\t<Filter newFilter = {newFilter} handleFilterChange={handleFilterChange} />\n\t\t\t<div  className='container'>\n\t\t\t\t<PersonForm addNumber={addNumber} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\n\t\t\t</div>\n\t\t\t<div  className='container'>\n\t\t\t\t<Persons filteredPerson={filteredPerson} handleClick = {removePerson}/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}